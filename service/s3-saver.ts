const AWS = require('aws-sdk');
const fs = require('fs');

AWS.config = new AWS.Config();
AWS.config.accessKeyId = "";
AWS.config.secretAccessKey = "";
AWS.config.region = "";

export const saveToS3 = () => {
  const s3 = new AWS.S3();
  console.log("Start uploading file to S3");
  const buf = new Buffer('data:image/jpeg;base64,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'.replace(/^data:image\/\w+;base64,/, ""),'base64')
  const params = {
    Bucket: 'arnold-image-test', 
    Key: 'worldmap.jpg', 
    Body: buf,
    ContentEncoding: 'base64',
    ContentType: 'image/jpeg'
  };

  s3.putObject(params, (err, data) => {
    if (err) {
        console.log(err);
    } else {
      console.log('succesfully uploaded the image!');
    }
  });
}
